<form (ngSubmit)="onSelect()"
      class="was-validated"
      #form="ngForm"
      novalidate>
  <div class="text-center variant-column rounded p-3"
       [class.bg-faded]="column.isDisabled"
       [class.variant-column-selected]="column.isSelected">
    <div>
      <h4>{{ column.title }}</h4>
      <p>{{ column.subtitle }}</p>
    </div>
    <hr/>
    <div
      *ngFor="let field of column.fields; trackBy: trackByFn; let i = index; "
      [ngSwitch]="field.kind">

      <h5 *ngSwitchCase="'spacer'">&nbsp;</h5>

      <div *ngSwitchCase="'staticText'" class="form-group">
        <p class="form-control-like">
          {{ field.text }}
        </p>
      </div>

      <div *ngSwitchCase="'numberInput'"
           class="form-group">
        <input class="form-control text-center"
               type="number"
               [min]="field.min"
               [appMin]="field.min"
               [max]="field.max"
               [appMax]="field.max"
               [ngModel]="field.value"
               (ngModelChange)="onFieldValueNgModelChange(field, $event)"
               name="{{column.id}}-{{field.id}}-field"
               required
               (change)="onChange(field)"
               #valueInput="ngModel"
               [readonly]="column.isDisabled">
      </div>

    </div>
    <hr/>
    <div>
      <h5>{{ column.summary }}</h5>
      <button class="btn btn-block"
              [class.btn-primary]="column.isSelected"
              [class.btn-outline-secondary]="!column.isSelected"
              [disabled]="column.isDisabled">
        {{ column.isSelected ? 'âœ“' : 'Select' }}
      </button>
    </div>
  </div>
</form>
